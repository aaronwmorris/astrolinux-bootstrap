---
# tasks file for astrolinux-bootstrap


- debug:
    msg: "Detected: {{ ansible_facts['distribution'] }} {{ ansible_facts['distribution_major_version'] }} ({{ ansible_facts['architecture'] }})"
  tags:
    - always


- name: Include OS Distribution Family vars
  include_vars: "{{ ansible_facts['distribution'] }}-{{ ansible_facts['distribution_major_version'] }}.yml"
  tags:
    - always


- name: Create Projects build folder
  file:
    path: "{{ projects_folder }}/build"
    state: directory
  tags:
    - always


- name: Create Projects src folder
  file:
    path: "{{ projects_folder }}/src"
    state: directory
  tags:
    - always


- include: "common/main_pre.yml"
  tags:
    - common


- include: "indi-core/main.yml"
  tags: indi_core


- include: "indi-3rdparty/main.yml"
  tags:
    - indi_3rdparty


- include: "indiweb/main.yml"
  tags:
    - indiweb


- include: "indihub/main.yml"
  tags:
    - indihub


- include: "astrometry.net/main.yml"
  tags:
    - astrometry.net


- include: "kstars/main.yml"
  tags:
    - kstars


- include: "phd2/main.yml"
  tags:
    - phd2


- include: "lin_guider/main.yml"
  tags:
    - lin_guider


- include: "libpasastro/main.yml"
  tags:
    - libpasastro


- include: "xrdp/main.yml"
  become: yes
  tags:
    - xrdp


- include: "common/main_post.yml"
  tags:
    - common

